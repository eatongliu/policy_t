webpackJsonp([6],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(61),m=n(732),p=r(m),f=n(75),d=r(f),h=n(74),y=r(h);n(82),n(83),n(84),n(1115);var E=n(1),v=n(12);window.$=n(50);var g=window.$,w=n(76).default,C=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,c=Array(l),i=0;i<l;i++)c[i]=arguments[i];return n=a=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={time:5},r=n,s(a,r)}return c(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;window.a=setInterval(function(){e.setState({time:e.state.time-1})},1e3),window.b=setTimeout(function(){clearInterval(a),location.reload()},5e3)}},{key:"componentWillUnMount",value:function(){clearInterval(a),clearTimeout(b)}},{key:"render",value:function(){return E.createElement("div",{className:"container"},E.createElement("div",{className:"page-header"},E.createElement("h2",null,"订阅服务"),E.createElement("span",null)),E.createElement("div",{className:"pro"}),E.createElement("div",{className:"row subread"}),E.createElement("div",{className:"row"},"订阅成功！ 订阅号：",this.props.subId,"当前订阅信息已提交",this.state.time,"秒后返回＞＞点击",E.createElement("a",{href:"./sub.html"},"快度返回")),E.createElement("div",{className:"row"}))}}]),t}(E.Component),N=E.createClass({displayName:"BodySub",getInitialState:function(){return{uContext:"",uRemark:"",keyWords:[]}},handleChange:function(e){this.setState(l({},e.target.name,e.target.value))},handleSubmit:function(){var e=this.state;e.keyWords=this.state.keyWords.join(","),g.ajax({type:"post",url:w+"su/a",data:JSON.stringify(e),contentType:"application/json",dataType:"json",success:function(e){"SUCCESS"===e.status?v.render(E.createElement(C,{subId:e.data}),document.getElementsByClassName("g-bd")[0]):alert(e.cause)}})},handleGetKeywords:function(){var e=this;g.ajax({type:"post",url:w+"su/c",data:JSON.stringify({subscriber:e.state.uContext}),contentType:"application/json",dataType:"json",success:function(t){return"ERROR"===t.status?(alert(t.cause),!1):void e.setState({keyWords:t.data})}})},dispatch:function(e){this.setState(e)},EnterPress:function(e){"Enter"==e.key&&this.handleGetKeywords()},render:function(){return E.createElement("div",{className:"container"},E.createElement("div",{className:"page-header"},E.createElement("h2",null,"订阅服务"),E.createElement("span",null)),E.createElement("div",{className:"pro"},E.createElement("a",null,E.createElement("span",null,"01"),"确定标签"),E.createElement("a",null,E.createElement("span",null,"02"),"提交申请"),E.createElement("a",null,E.createElement("span",null,"03"),"标签匹配"),E.createElement("a",null,E.createElement("span",null,"04"),"推送文章"),E.createElement("a",null,E.createElement("span",null,"05"),"随时阅览"),E.createElement("p",{className:"read"},"随心所欲订阅政策文章，竭诚提供个性订阅服务。定制需求推送私有书房，随时随地阅览天下政策")),E.createElement("div",{className:"row subread"},E.createElement("div",{className:"col-md-7 col-md-offset-2 paddqx"},E.createElement("div",{style:{marginBottom:"0"},className:"form-group"},E.createElement("input",{onKeyPress:this.EnterPress,onChange:this.handleChange,name:"uContext",value:this.state.uContext,type:"text",className:"form-control search_ip",placeholder:"请输入定制内容..."}),E.createElement(u.Button,{onClick:this.handleGetKeywords,className:"search_btns"},"生成")),E.createElement("div",{className:"tishi"},"示例:2016至2017年，北京市政府颁布，关于税收征收类，政策文件。")),E.createElement("div",{className:"col-md-1 paddqx backg"},E.createElement("span",null,"生成关键字段",E.createElement("br",null),"方便订阅"))),E.createElement("div",{className:"row"},E.createElement("div",{className:"col-md-8 col-md-offset-2 analysis"},E.createElement("h4",null,E.createElement("strong",null,"解析:")),E.createElement("p",null),E.createElement(p.default,{dispatch:this.dispatch,keyWords:this.state.keyWords}))),E.createElement("div",{className:"row"},E.createElement("div",{className:"col-md-7 col-md-offset-2 textarea form-group"},E.createElement("textarea",{placeholder:"备注可以让您的订阅更精确...",onChange:this.handleChange,name:"uRemark",value:this.state.uRemark,className:"form-control"}),E.createElement(u.Button,{className:"pull-right"},"重置"),E.createElement(u.Button,{onClick:this.handleSubmit,bsStyle:"primary",className:"pull-right"},"提交"))))}});v.render(E.createElement(d.default,null),document.getElementsByClassName("g-hd")[0]),v.render(E.createElement(N,null),document.getElementsByClassName("g-bd")[0]),v.render(E.createElement(y.default,null),document.getElementsByClassName("g-ft")[0])},732:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(64),i=n(1),u=function(e){function t(){var e,n,o,s;r(this,t);for(var c=arguments.length,i=Array(c),u=0;u<c;u++)i[u]=arguments[u];return n=o=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.state={inputVisible:!1,inputValue:""},o.handleClose=function(e){var t=o.props.keyWords.filter(function(t){return t!==e});console.log(t),o.props.dispatch({keyWords:t})},o.showInput=function(){o.setState({inputVisible:!0},function(){return o.input.focus()})},o.handleInputChange=function(e){o.setState({inputValue:e.target.value})},o.handleInputConfirm=function(){var e=o.state,t=e.inputValue,n=o.props.keyWords;t&&n.indexOf(t)===-1&&(n=[].concat(a(n),[t]));var r=o;console.log(n),o.setState({inputVisible:!1,inputValue:""},function(){r.props.dispatch({keyWords:n})})},o.saveInputRef=function(e){return o.input=e},s=n,l(o,s)}return o(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.inputVisible,a=t.inputValue,r=this.props.keyWords;return i.createElement("div",null,r.map(function(t,n){var a=t.length>20,r=i.createElement(c.Tag,{key:t,closable:!0,afterClose:function(){return e.handleClose(t)}},a?t.slice(0,20)+"...":t);return a?i.createElement(c.Tooltip,{title:t},r):r}),n&&i.createElement(c.Input,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:a,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!n&&i.createElement(c.Button,{size:"small",type:"dashed",onClick:this.showInput},"+ 添加"))}}]),t}(i.Component);t.default=u},1115:function(e,t){}});